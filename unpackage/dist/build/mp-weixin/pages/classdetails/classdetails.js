(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/classdetails/classdetails"],{1568:function(t,e,i){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},n=[];i.d(e,"a",function(){return o}),i.d(e,"b",function(){return n})},"51a7":function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,n=r(i("4033")),a=i("32ae"),c=i("9f82");function r(t){return t&&t.__esModule?t:{default:t}}var s={data:function(){return{cWidth:"",cHeight:"",cWidth3:"",cHeight3:"",arcbarWidth:"",pixelRatio:1,topic:{},detail:{},voiceRecord:[],innerAudioContext:null,userinfo:{},typeindex:0,playindex:0,ispalying:!1}},onLoad:function(e){var i=this;o=this,this.cWidth3=t.upx2px(250),this.cHeight3=t.upx2px(250),this.arcbarWidth=t.upx2px(34),this.cWidth=t.upx2px(700),this.cHeight=t.upx2px(500),this.userinfo=t.getStorageSync("stuinfo"),this.topic=JSON.parse(decodeURIComponent(e.info)),console.log(this.topic),this.init(),this.innerAudioContext=t.createInnerAudioContext(),this.innerAudioContext.onPlay(function(){i.ispalying=!0,console.log("开始播放")}),this.innerAudioContext.onEnded(function(){i.innerAudioContext.src="",i.typeindex=0,i.playindex=0,i.ispalying=!1,console.log("开始结束")})},onPullDownRefresh:function(){this.init(),setTimeout(function(){t.stopPullDownRefresh()},1e3)},methods:{init:function(){this.getstudentAnalyseDetail(),this.getvoiceRecord()},getstudentAnalyseDetail:function(){var t=this;(0,a.postajax)(a.api.studentAnalyseDetail,{topicCode:this.topic.topicCode,stuCode:this.userinfo.stuCode}).then(function(e){console.log(e),0==e.code&&(t.detail=e.data,t.getServerData())})},getServerData:function(){var t={series:[]},e={series:[]};t.series=[{name:"正确率",data:this.detail.stuCorrectAccuracy?this.detail.stuCorrectAccuracy.slice(0,this.detail.stuCorrectAccuracy.length-1)/100:0,color:"#81a3e2"}],e.series=[{name:"击败人数比",data:this.detail.defeatStuCount?this.detail.defeatStuCount.slice(0,this.detail.defeatStuCount.length-1)/100:0,color:"#99c2cc"}],o.showArcbar2("canvasArcbar2",t),o.showArcbar3("canvasArcbar3",e)},showArcbar2:function(t,e){new n.default({$this:o,canvasId:t,type:"arcbar",fontSize:11,legend:!1,title:{name:(1e4*e.series[0].data/100).toFixed(2)+"%",color:"#e24545",fontSize:16*o.pixelRatio},subtitle:{name:e.series[0].name,color:"#666666",fontSize:12*o.pixelRatio},extra:{arcbar:{type:"circle",width:o.arcbarWidth*o.pixelRatio,backgroundColor:"#e28193",startAngle:1.25}},background:"#FFFFFF",pixelRatio:o.pixelRatio,series:e.series,animation:!0,width:o.cWidth3*o.pixelRatio,height:o.cHeight3*o.pixelRatio,dataLabel:!0})},showArcbar3:function(t,e){new n.default({$this:o,canvasId:t,type:"arcbar",fontSize:11,legend:!1,title:{name:(1e4*e.series[0].data/100).toFixed(2)+"%",color:e.series[0].color,fontSize:16*o.pixelRatio},subtitle:{name:e.series[0].name,color:"#333",fontSize:12*o.pixelRatio},extra:{arcbar:{type:"circle",width:o.arcbarWidth*o.pixelRatio,backgroundColor:"#e281b6",startAngle:1.25}},background:"#FFFFFF",pixelRatio:o.pixelRatio,series:e.series,animation:!0,width:o.cWidth3*o.pixelRatio,height:o.cHeight3*o.pixelRatio,dataLabel:!0})},getvoiceRecord:function(){var t=this;(0,a.postajax)(a.api.getvoiceRecord,{topicCode:this.topic.topicCode,stuCode:this.userinfo.stuCode}).then(function(e){0==e.code&&(t.voiceRecord=e.data)})},playVideo:function(t,e,i){this.innerAudioContext.autoplay=!0,this.innerAudioContext.src=1==i?t:c.fileUrl+t,this.typeindex=i,this.playindex=e,console.log(this.innerAudioContext.src),this.innerAudioContext.src&&this.innerAudioContext.play(),console.log("播放")}}};e.default=s}).call(this,i("543d")["default"])},"640e":function(t,e,i){"use strict";var o=i("c0ff"),n=i.n(o);n.a},b024:function(t,e,i){"use strict";i.r(e);var o=i("51a7"),n=i.n(o);for(var a in o)"default"!==a&&function(t){i.d(e,t,function(){return o[t]})}(a);e["default"]=n.a},bc8b:function(t,e,i){"use strict";i.r(e);var o=i("1568"),n=i("b024");for(var a in n)"default"!==a&&function(t){i.d(e,t,function(){return n[t]})}(a);i("640e");var c=i("2877"),r=Object(c["a"])(n["default"],o["a"],o["b"],!1,null,"1154fa78",null);e["default"]=r.exports},c0ff:function(t,e,i){}},[["985e","common/runtime","common/vendor"]]]);